const grid=document.querySelector(".grid"),startButton=document.querySelector("#start"),scoreDisplay=document.querySelector("#score");let cuadrados=[],laSerpiente=[2,1,0],direction=1;const width=10;let appleIndex=0,score=0,intervalTime=1e3,speed=.9,timerId=0;function createGrid(){for(let e=0;e<100;e++){const e=document.createElement("div");e.classList.add("square"),grid.appendChild(e),cuadrados.push(e)}}function startGame(){laSerpiente.forEach(e=>cuadrados[e].classList.remove("snake")),cuadrados[appleIndex].classList.remove("apple"),clearInterval(timerId),score=0,scoreDisplay.textContent=score,laSerpiente=[2,1,0],direction=1,intervalTime=1e3,generateApple(),laSerpiente.forEach(e=>cuadrados[e].classList.add("snake")),timerId=setInterval(move,intervalTime)}function move(){if(laSerpiente[0]%10==0&&-1===direction||laSerpiente[0]%10==9&&1===direction||laSerpiente[0]-10<0&&-10===direction||laSerpiente[0]+10>=100&&10===direction||cuadrados[laSerpiente[0]+direction].classList.contains("snake"))return clearInterval(timerId);const e=laSerpiente.pop();cuadrados[e].classList.remove("snake"),laSerpiente.unshift(laSerpiente[0]+direction),cuadrados[laSerpiente[0]].classList.contains("apple")&&(cuadrados[laSerpiente[0]].classList.remove("apple"),cuadrados[e].classList.add("snake"),laSerpiente.push(e),generateApple(),score++,scoreDisplay.textContent=score,clearInterval(timerId),intervalTime*=speed,timerId=setInterval(move,intervalTime)),cuadrados[laSerpiente[0]].classList.add("snake")}function generateApple(){do{appleIndex=Math.floor(Math.random()*cuadrados.length)}while(cuadrados[appleIndex].classList.contains("snake"));cuadrados[appleIndex].classList.add("apple")}function controlDireccion(e){"ArrowRight"===e.key?direction=1:"ArrowUp"===e.key?direction=-10:"ArrowLeft"===e.key?direction=-1:"ArrowDown"===e.key&&(direction=10)}createGrid(),laSerpiente.forEach(e=>cuadrados[e].classList.add("snake")),generateApple(),document.addEventListener("keyup",controlDireccion),startButton.addEventListener("click",startGame);